## 考えたこと

- 分析手法
  - ウィンドウごとに相関
- 他者の発話状態
  - マイクステーテスも説明変数に入れたいと思った
  - 1 - exp(t)で変化するようなやつがいいのかも
  - 発話した後のt秒間
  - 発話継続時間


## 実装修正

- [x] 実験データのログ出力
- [x] 交差検証
- [x] パーセンタイル値
- [X] 特徴量選択
- [x] 発話割合の算出
- [] 他者の発話状態
- [] Looで時系列分析

## 論文修正の計画

- アウトラインと全体の論文の流れを照らし合わせ
- 3, 4章の説明をわかりやすくなるように修正
- 1章, まとめの修正
- 図表のアップデート
- 関連研究を増やす
- 体裁の修正


## 実装でやりたいこと

- データ収集
  - ログ出力
    - F-measure，recall，precision，変数重要度，特徴量，被験者
- 前処理
  - 発話割合の算出
- 特徴量
  - パーセンタイル値
  - 他者の発話状態
    - マイクステータス=音量
    - 発話継続時間
    - 発話した後の数秒間
- モデル構築
  - 交差検証
  - MLアルゴリズム
  - 特徴量選択
  - 次元数減らす方法
  - 回帰にしてみる？
- 分析
  - AUの時系列表
  - 混同行列
  - ROCAUC
  - 会話の可視化
  - ウィンドウごとに相関
  - 日常的な癖を参考に
- システム構築

## コメント踏まえて
精度の目標は？
- F値：7割後半
- Recall：8割

精度不十分だと何がダメ？
↓
先行研究の問題：予備動作を抽出できていない可能性，もしくは予備動作がない
↓
今回の着眼点：予備動作を抽出できていない可能性を解消するため，別の予備動作の候補となる特徴を検討
↓
アプローチ：今までは大まかな顔特徴だが，細かい顔特徴が取れる表情を追加してみる
↓
結果：
・ミクロ，他者の発話状態の追加によって精度向上
・マクロ・ミクロそれぞれで精度が高い被験者がバラバラ
↓
contribution：
・ミクロ，他者の発話状態が発話予測の精度向上に影響していること
・ミクロの追加によって，マクロにはない特徴が明らかになった被験者がいた（その動作は何か？）
・ミクロ特徴の追加，他者の発話状態の追加を踏まえ，それぞれ適した特徴量で作ったモデルでやった方が良い（平均F値0.701）


## わかったこと
- 予備動作
  - 顎を下げずに小さく口を開いている
  - 笑った後


AUの可視化からわかること
- 被験者D
  - AU25 顎を下げずに唇を開く
    - 発話直前にの動作が大きくなる
  - AU06 同時に大きくなる
    - 頬を持ち上げる→笑った後に動作
  - AU15 ウィンドウ内のばらつき小さい
    - 唇の両端を下げる
  - AU07
    - 瞼を緊張させるはちょっとよくわからない → 誤判定の可能性

- 被験者E
  - AU25, 26 顎を下げずに唇を開く
    - 発話直前にの動作が大きくなる
    - 相関強い可能性（どちらか抜いた方が良さそう）
  - AU14 笑窪を作る
    - 笑顔になる時にできる
  - AU04 眉を下げる
    - 眉が見えない，常に高い → 誤検出の可能性
    - 傾聴しようとする動作

- 被験者F
  - AU05 上瞼を上げる
    - ちょっと微妙??，目を見開く動作に近い
  - AU26 顎を下げて唇を開く
    - 
  - AU25 顎を下げず唇を開く
    - 喋る前に少しずつ動く
  - AU12 唇の両端を引き上げる
    - 笑う時は引き上げる
  - AU17 顎を上げる

- 被験者I
  - AU25

## 相関関係の高い特徴量たち
- ピアソン相関係数によりどちらか一方削除
- 削除した特徴量と関係のある特徴量をリストアップ
- 変数重要度に上がった特徴量と相関が高い特徴量の組み合わせがあれば分析

## なぜ他者の発話状態
- 他者との相互作用による影響を考慮
- 誰かが発話中の時は，他の人はしゃべらないよね，が学習できる（今までできていない）